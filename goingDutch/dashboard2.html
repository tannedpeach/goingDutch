<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="D:/Semester 5/IWP Project/dashboard2style.css">
        <link
          href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap"
          rel="stylesheet"
        />
        <script src="https://kit.fontawesome.com/a81368914c.js"></script>
    </head>
    <body>

        <header>
            <h2 class="logo">going<span>Dutch</span></h2>
        </header>

<div class="form-popup1" id="expenseForm">
  <form class="fcontainer">
      <div><h1 class="wrapper">Add Expense</h1></div>
      
    <div>
      <label for="payer">Who paid?</label>
      <input id="payer" type="text" />
    </div>
    <div>
      <label for="amount">Amount paid</label>
      <input id="amount" type="text" />
    </div>
    <div>
      <label for="mems">Divide the bill between you and:</label>
      <select name="members "id="mems" multiple></select>
    </div>
    <div>
      <fieldset>
        <legend>How do you want to split the bill?</legend>
        <input type="radio" name="splitType" id="eq" value="eq" />
        <label for="eq">Equally</label>
        <input type="radio" name="splitType" id="uneq" value="uneq" />
        <label for="uneq">Unequally</label>
      </fieldset>
    </div>
    <div class="full-width">
        <button type="button" class="formbtn" onclick="addExpense()">Add</button>
        <button type="button" class="btncancel" onclick="closeExpenseForm()">Close</button>
    </div>
  </form>
</div>

        <div class="form-popup1" id="myForm">
            <form method="POST" class="fcontainer">
                <div>
                <h1 class="wrapper">Add a person</h1></div>
                <div>
                    <label for="name">Name</label>
                    <input id="name" type="text" required/>
                  </div>
                  <div class="full-width">
                    <button type="button" class="formbtn" onclick="addRow()">Add Member</button>
                    <button type="button" class="btncancel" onclick="closeForm()">Close</button>
                </div>
                    
            </form>
        </div>      

        <!-- <div class="form-popup" id="expenseForm">
            <form method="POST" class="form-container">
                <h1>Add Expense</h1>
  
                <label for="payer">Who paid?</label>
                <input type="text" id="payer" required><br>
                <label for="amount">Enter Amount</label>
                <input type="text" id="amount" required><br>
                <label for="splitType">How do you want to split the bill?</label>
                <select id="splitType">
                    <option>Split Equally</option>
                    <option>Split Unequally</option>
                </select><br>
                <label for="mems">Split Between: </label>
                <select name="members" id="mems" multiple></select><br>
                
                    
                <button type="button" class="formbtn" onclick="addExpense()">Add</button>
                <button type="button" class="btncancel" onclick="closeExpenseForm()">Close</button>
            </form>
        </div>       -->

        <script>
            function addRow(){

                var table = document.getElementById("expenseTable");

                // Create an empty <tr> element and add it to the 1st position of the table:
                var row = table.insertRow(1);

                // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);

                // Add some text to the new cells:
                cell1.innerHTML = document.getElementById("name").value;
                cell2.innerHTML = "0";

                var select = document.getElementById("mems");
                var n = document.getElementById("name").value;
                select.options[select.options.length] = new Option(n, 0);
            }
            function openForm() {
                document.getElementById("myForm").style.display = "block";
            }
            function openExpenseForm() {
                document.getElementById("expenseForm").style.display = "block";
            }
            function closeExpenseForm() {
                document.getElementById("expenseForm").style.display = "none";
            } 
            function closeForm() {
                document.getElementById("myForm").style.display = "none";
            } 
            function addExpense(){
                var amt = document.getElementById("amount").value;
                var p = document.getElementById("payer").value;

                rows = expenseTable.rows, rowcount = rows.length;
                for(var r = 0; r < rowcount; r++) {
                    cells = rows[r].cells;
                    if (cells[0].innerText == p){
                        cells[1].innerText = amt;
                    }
                }
            }   
                
            
        </script>     

        <div id = "center_container">
            <div id = "center_bars">
                <div id = "center_column">
                    <div class = "dashboard header">
                        <div class = "topbar">
                            <table>
                                <tr>
                            <td><h1 style="margin-left:50px">Dashboard</h1></td>
                            
                            <td align = "right"><div class = "actions">
                                <button type="button" class="dashbtn" onclick="openForm()">
                                    Add a member
                                </button>
                                <button type="button" class="dashbtn" onclick="openExpenseForm()">
                                    Add Expense
                                </button>
                            </div></td>
                        </tr>
                        </table>
                        </div>
                    </div>
                    <div class="mainArea">
                        
                        <center><table id="expenseTable">
                            <tr>
                                <th>Members</th>
                                <th>Money Spent</th>
                              </tr>
                        </table></center>
                    </div>
                    </div>
                    </div>
                    </div>
    </body>
</html>